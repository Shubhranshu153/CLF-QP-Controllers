function [Msubbed,Csubbed,Tsubbed] = MCT(Z)
    syms d1 d2 d3 d4 d5 l1 l2 l3 l4 l5 I1 I2 I3 I4 I5 m1 m2 m3 m4 m5 
    syms th1 th2 th3 th4 th5 th1dot th2dot th3dot th4dot th5dot g
    p=params;
    M = load('M.mat');
    C = load('C.mat');
    T = load('T.mat');
    
    Msubbed = double(subs(M.M, [d1, d2, d3, d4, d5, l1, l2, l3, l4, l5, I1, I2,...
        I3, I4, I5, m1, m2, m3, m4, m5, th1, th2, th3, th4, th5,th1dot,...
        th2dot, th3dot, th4dot, th5dot],[p.d1, p.d2, p.d3, p.d4, p.d5,...
        p.l1, p.l2, p.l3, p.l4, p.l5, p.I1, p.I2, p.I3, p.I4, p.I5,...
        p.m1, p.m2, p.m3, p.m4, p.m5,Z(1),Z(2),Z(3),Z(4),Z(5),Z(6),Z(7),...
        Z(8),Z(9),Z(10)]));
    Csubbed = double(subs(C.C, [d1, d2, d3, d4, d5, l1, l2, l3, l4, l5, I1, I2,...
        I3, I4, I5, m1, m2, m3, m4, m5, th1, th2, th3, th4, th5,th1dot,...
        th2dot, th3dot, th4dot, th5dot],[p.d1, p.d2, p.d3, p.d4, p.d5,...
        p.l1, p.l2, p.l3, p.l4, p.l5, p.I1, p.I2, p.I3, p.I4, p.I5,...
        p.m1, p.m2, p.m3, p.m4, p.m5,Z(1),Z(2),Z(3),Z(4),Z(5),Z(6),Z(7),...
        Z(8),Z(9),Z(10)]));
    Csubbed = Csubbed'; %needs to be a row vector
    Tsubbed = double(subs(T.T, [d1, d2, d3, d4, d5, l1, l2, l3, l4, l5, I1, I2,...
        I3, I4, I5, m1, m2, m3, m4, m5, th1, th2, th3, th4, th5,th1dot,...
        th2dot, th3dot, th4dot, th5dot,g],[p.d1, p.d2, p.d3, p.d4, p.d5,...
        p.l1, p.l2, p.l3, p.l4, p.l5, p.I1, p.I2, p.I3, p.I4, p.I5,...
        p.m1, p.m2, p.m3, p.m4, p.m5,Z(1),Z(2),Z(3),Z(4),Z(5),Z(6),Z(7),...
        Z(8),Z(9),Z(10),p.g]));

